{
    "$schema": "http://json-schema.org/draft-07/schema#",
    "title": "Faction Schema",
    "description": "Defines the structure for a faction, including its ideology, members, ranks, and reputation system.",
    "type": "object",
    "properties": {
        "schema_version": {
            "type": "string",
            "description": "The version of this schema.",
            "pattern": "^(0|[1-9]\\\\d*)\\\\.(0|[1-9]\\\\d*)\\\\.(0|[1-9]\\\\d*)(?:-((?:0|[1-9]\\\\d*|\\\\d*[a-zA-Z-][0-9a-zA-Z-]*)(?:\\\\.(?:0|[1-9]\\\\d*|\\\\d*[a-zA-Z-][0-9a-zA-Z-]*))*))?(?:\\\\+([0-9a-zA-Z-]+(?:\\\\.[0-9a-zA-Z-]+)*))?$",
            "default": "2.2.0"
        },
        "faction_id": {
            "type": "string",
            "description": "A unique identifier for the faction (e.g., 'crimson_vanguard'). Should be lowercase and use underscores for spaces."
        },
        "name": {
            "type": "string",
            "description": "The display name of the faction (e.g., 'The Crimson Vanguard')."
        },
        "description": {
            "type": "string",
            "description": "A detailed description of the faction's history, goals, and public image."
        },
        "ideology": {
            "type": "string",
            "description": "The core beliefs, alignment, and motivations of the faction."
        },
        "allies": {
            "type": "array",
            "description": "A list of faction_ids that this faction is allied with.",
            "items": {
                "type": "string"
            }
        },
        "enemies": {
            "type": "array",
            "description": "A list of faction_ids that this faction is hostile towards.",
            "items": {
                "type": "string"
            }
        },
        "membership": {
            "type": "object",
            "properties": {
                "recruitment_policy": {
                    "type": "string",
                    "enum": ["Open", "Invite Only", "Restricted"],
                    "description": "The method by which new members can join."
                },
                "members": {
                    "type": "array",
                    "description": "A list of character or NPC IDs who are members of this faction.",
                    "items": {
                        "type": "string"
                    }
                }
            },
            "required": ["recruitment_policy"]
        },
        "ranks": {
            "type": "array",
            "description": "The hierarchical ranks within the faction.",
            "items": {
                "type": "object",
                "properties": {
                    "title": {
                        "type": "string",
                        "description": "The name of the rank (e.g., 'Initiate', 'Captain')."
                    },
                    "min_reputation": {
                        "type": "integer",
                        "description": "The minimum reputation score required to achieve this rank."
                    },
                    "privileges": {
                        "type": "string",
                        "description": "A description of the benefits and responsibilities of this rank."
                    }
                },
                "required": ["title", "min_reputation"]
            }
        },
        "reputation_tiers": {
            "type": "object",
            "description": "Defines the names and point ranges for different levels of reputation.",
            "properties": {
                "hated": { "type": "object", "properties": { "min": { "type": "integer" }, "max": { "type": "integer" } }, "required": ["min", "max"] },
                "disliked": { "type": "object", "properties": { "min": { "type": "integer" }, "max": { "type": "integer" } }, "required": ["min", "max"] },
                "neutral": { "type": "object", "properties": { "min": { "type": "integer" }, "max": { "type": "integer" } }, "required": ["min", "max"] },
                "liked": { "type": "object", "properties": { "min": { "type": "integer" }, "max": { "type": "integer" } }, "required": ["min", "max"] },
                "honored": { "type": "object", "properties": { "min": { "type": "integer" }, "max": { "type": "integer" } }, "required": ["min", "max"] }
            },
            "additionalProperties": false,
            "required": ["hated", "disliked", "neutral", "liked", "honored"]
        }
    },
    "required": [
        "schema_version",
        "faction_id",
        "name",
        "description",
        "ideology",
        "membership",
        "ranks",
        "reputation_tiers"
    ]
}
